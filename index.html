<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Telegram User Info</title>
</head>
<body>
    <h1>مرحبًا!</h1>
    <p id="user-info">جارٍ تحميل بيانات المستخدم...</p>

    <script>
        // التحقق من توفر Telegram Web App
        if (window.Telegram && window.Telegram.WebApp) {
            const webApp = Telegram.WebApp;
            webApp.ready(); // التأكد من جاهزية Telegram WebApp
            
            // الوصول إلى بيانات المستخدم بشكل آمن
            const user = webApp.initDataUnsafe && webApp.initDataUnsafe.user;

            if (user && user.first_name) {
                // تحديث الرسالة ببيانات المستخدم
                document.getElementById("user-info").innerText = 
                    مرحبًا، ${user.first_name} (${user.username || "بدون اسم مستخدم"});
            } else {
                document.getElementById("user-info").innerText = "لم يتم العثور على بيانات المستخدم!";
            }
        } else {
            // في حال عدم دعم Telegram Web App
            document.getElementById("user-info").innerText = "Telegram Web App غير مدعوم!";
        }
    </script>
</body>
</html>